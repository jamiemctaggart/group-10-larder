<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>

  <!-- implement mapbox api -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />

  <link rel="stylesheet" href="css/master.css">

</head>

<body>

  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v5.0"></script>

  <ons-page>
    <ons-toolbar>
      <div class="center">Checklist</div>
    </ons-toolbar>

    <!-- this is the tab bar -->
    <ons-tabbar swipeable position="auto">
      <ons-tab page="tab3.html" label="About Us" icon="md-settings" active-icon="md-face">
      </ons-tab>
    </ons-tabbar>
  </ons-page>

  <!-- This is a tab -->
  <template id="tab3.html">
    <ons-page id="Tab3">
      <!-- TODO Add info for about us -->
      <p style="text-align: center;">
        About Us
      </p>
      <!-- facebook API to show little green larders posts -->
      <div id="fbpage-container">
        <div class="fb-page" data-href="https://www.facebook.com/thelittlegreenlarder/" data-tabs="timeline, events, messages" data-width="340" data-height="500" data-small-header="false" data-adapt-container-width="false" data-hide-cover="false"
          data-show-facepile="true">
          <blockquote cite="https://www.facebook.com/thelittlegreenlarder/" class="fb-xfbml-parse-ignore">
            <a href="https://www.facebook.com/thelittlegreenlarder/">The Little Green Larder</a>
          </blockquote>
        </div>
      </div>
      <!-- map API to show the shops location -->
      <div id="map-container">
        <div id='map' style='width: 340px; height: 300px;'></div>
        <script>
          mapboxgl.accessToken = 'pk.eyJ1IjoibWF0dC1iYWluIiwiYSI6ImNrM2VydjduZzAxYW8zb2w2YWpzMHVjeXEifQ.TeD601FJ2Yxys-IIWzPKrQ';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [-2.992283, 56.455914],
            zoom: 15
          });

          map.on('load', function() {
            map.loadImage('https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/60355888_380648815992528_3498095749848104960_n.jpg?_nc_cat=100&_nc_ohc=4O7miOAMXdwAQnMp4MVugAFlvxy5jG0bMjE6WXa3bs0V7MqnqIKkDKeHQ&_nc_ht=scontent-lhr3-1.xx&oh=adcaee31c50e978fdb793ebb4c8ca2e9&oe=5E846749',
            function(error, image) {
              if (error) throw error;
              map.addImage('cat', image);
              map.addLayer({
                "id": "points",
                "type": "symbol",
                "source": {
                  "type": "geojson",
                  "data": {
                    "type": "FeatureCollection",
                    "features": [{
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [-2.992283, 56.455914]
                      }
                    }]
                  }
                },
                "layout": {
                  "icon-image": "cat",
                  "icon-size": 0.07
                }
              });
            });
          });
        </script>
      </div>
    </ons-page>
  </template>


  <script type="text/javascript" src="code/onsen.js"></script>
</body>

</html>
